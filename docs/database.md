# 数据库设计

[toc]

## 表

以下表都需要添加：

1. 创建时间 `create_time`
2. 修改时间 `update_time`
3. 是否有效 `valid`

表和内容：

1. 用户表
   1. 用户id，主键
   2. 用户名，字符串，唯一
   3. 密码，字符串
   4. 昵称，字符串
   5. 自我介绍，字符串
   6. 头像图id，外键
2. 用户联系方式表
   1. 用户id，外键
   2. 联系方式类型，字符串
   3. 联系方式内容，字符串
3. 猫猫表
   1. 猫猫id，主键
   2. 名字，非空，默认值“猫猫”
   3. 发现时间，时间
   4. 来源，字符串
   5. 在校，bool
   6. 去向，字符串
   7. 健康状况，字符串
4. 地点表
   1. 地点id，主键
   2. 地点描述，字符串
5. 猫猫出现表
   1. 猫猫id，外键
   2. 地点id，外键
   3. 时间
   4. 发现用户id，外键
6. 喂猫表
   1. 投喂id，主键
   2. 猫猫id，外键
   3. 投喂人id，外键
   4. 时间
   5. 地点id，外键
   6. 投喂物，字符串
   7. 投喂量，字符串
7. 看病表
   1. 看病id，主键
   2. 猫猫id，外键
   3. 地点id，外键
   4. 描述，字符串
8. 猫猫图关系表，多对多关系表
   1. 猫猫id，外键
   2. 图id，外键
9. 图表
   1. 图id，主键
   2. url，字符串，非空





